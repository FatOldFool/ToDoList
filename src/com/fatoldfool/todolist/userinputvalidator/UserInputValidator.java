package com.fatoldfool.todolist.userinputvalidator;

import com.fatoldfool.todolist.task.Task;

import java.util.List;

public class UserInputValidator {

    public boolean isValidTaskId(int id, List<Task> tasks) {
        for (Task task : tasks) {
            if (task.getId() == id) {
                return true;
            }
        }

        return false;
    }

    public boolean isValidTaskName(String name) {

        if (name == null || name.trim().isEmpty()) {
            System.out.println("‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.");
            return false;
        }

        String trimmed = name.trim();

        if (!name.equals(trimmed)) {
            System.out.println("‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –Ω–µ –º–æ–∂–µ—Ç –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è –∏–ª–∏ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –ø—Ä–æ–±–µ–ª–æ–º.");
            return false;
        }

        String regex = "^[a-zA-Z–∞-—è–ê-–Ø]+(\\s[a-zA-Z–∞-—è–ê-–Ø]+)*$";

        if (!name.matches(regex)) {
            System.out.println("‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã —Ä—É—Å—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ –∞–ª—Ñ–∞–≤–∏—Ç–∞, " +
                    "–ø—Ä–æ–±–µ–ª—ã –∏ –Ω–µ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è/–∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –ø—Ä–æ–±–µ–ª–æ–º.");
            return false;
        }

        return true;
    }

    public boolean isValidTaskPriority(String input) {

        if (input == null || input.trim().isEmpty()) {
            System.out.println("‚ùå –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º.");
            return false;
        }

        String trimmed = input.trim();

        if (!trimmed.matches("^\\d+$")) {
            System.out.println("‚ùå –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —á–∏—Å–ª–æ–º.");
            return false;
        }

        try {
            int priority = Integer.parseInt(trimmed);

            if (priority < 1 || priority > 10) {
                System.out.println("‚ùå –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –æ—Ç 1 –¥–æ 10.");
                return false;
            }

            return true;

        } catch (NumberFormatException e) {
            System.out.println("‚ùå –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —á–∏—Å–ª–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞.");
            return false;
        }
    }

    public boolean hasTasks(List<Task> tasks) {
        if (tasks == null || tasks.isEmpty()) {
            System.out.println("üì≠ –ù–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –∑–∞–¥–∞—á. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–≤—É—é –∑–∞–¥–∞—á—É.");
            return false;
        }
        return true;
    }
}
